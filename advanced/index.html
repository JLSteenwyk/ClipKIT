

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced Usage &mdash; clipkit  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=b745eb55" />

  
    <link rel="shortcut icon" href="../_static/flavicon.png"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Performance Assessment" href="../performance_assessment/index.html" />
    <link rel="prev" title="About" href="../about/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/ClipKIT_logo_top_only_v1.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Advanced Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#modes">Modes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="#log">Log</a></li>
<li class="toctree-l2"><a class="reference internal" href="#complementary">Complementary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#codon">Codon</a></li>
<li class="toctree-l2"><a class="reference internal" href="#custom-site-trimming-cst-mode">Custom site trimming (cst mode)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gaps">Gaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gap-characters">Gap Characters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sequence-type">Sequence Type</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ends-only">Ends only</a></li>
<li class="toctree-l2"><a class="reference internal" href="#all-options">All options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../performance_assessment/index.html">Performance Assessment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../change_log/index.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../other_software/index.html">Other software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frequently_asked_questions/index.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">clipkit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Advanced Usage</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="advanced-usage">
<h1>Advanced Usage<a class="headerlink" href="#advanced-usage" title="Link to this heading"></a></h1>
<hr class="docutils" />
<p>This section describes the various features and options of ClipKIT.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#modes">Modes</a></p></li>
<li><p><a class="reference internal" href="#output">Output</a></p></li>
<li><p><a class="reference internal" href="#log">Log</a></p></li>
<li><p><a class="reference internal" href="#complementary">Complementary</a></p></li>
<li><p><a class="reference internal" href="#codon">Codon</a></p></li>
<li><p><a class="reference internal" href="#custom-site-trimming-cst-mode">Custom site trimming (cst mode)</a></p></li>
<li><p><a class="reference internal" href="#gaps">Gaps</a></p></li>
<li><p><a class="reference internal" href="#gap-characters">Gap Characters</a></p></li>
<li><p><a class="reference internal" href="#sequence-type">Sequence Type</a></p></li>
<li><p><a class="reference internal" href="#ends-only">Ends only</a></p></li>
<li><p><a class="reference internal" href="#all-options">All options</a></p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<section id="modes">
<span id="id1"></span><h2>Modes<a class="headerlink" href="#modes" title="Link to this heading"></a></h2>
<p>Herein, we describe the various trimming modes implemented in ClipKIT. If you are unsure which is appropriate for you,
<strong>we recommend using the default smart-gap trimming mode</strong>.</p>
<p>ClipKIT can be run with eight different modes, which are specified with the -m/–mode argument.
<em>Default: ‘smart-gap’</em></p>
<ul class="simple">
<li><p>smart-gap: dynamic determination of gaps threshold</p></li>
<li><p>gappy: trim all sites that are above a threshold of gappyness (default: 0.9)</p></li>
<li><p>kpic: keep only parismony informative and constant sites</p></li>
<li><p>kpic-smart-gap: a combination of kpic- and smart-gap-based trimming</p></li>
<li><p>kpic-gappy: a combination of kpic- and gappy-based trimming</p></li>
<li><p>kpi: keep only parsimony informative sites</p></li>
<li><p>kpi-smart-gap: a combination of kpi- and smart-gap-based trimming</p></li>
<li><p>kpi-gappy: a combination of kpi- and gappy-based trimming</p></li>
<li><p>c3: remove third codon position from alignment</p></li>
<li><p>cst: custom site trimming (remove sites specified by the user)</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># smart-gap-based trimming</span>
clipkit<span class="w"> </span>&lt;input&gt;
clipkit<span class="w"> </span>-m<span class="w"> </span>smart-gap

<span class="c1"># gappy-based trimming</span>
clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-m<span class="w"> </span>gappy

<span class="c1"># kpic-based trimming</span>
clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-m<span class="w"> </span>kpic

<span class="c1"># kpic- and smart-gap-based trimming</span>
clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-m<span class="w"> </span>kpic-smart-gap

<span class="c1"># kpic- and gappy-based trimming</span>
clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-m<span class="w"> </span>kpic-gappy

<span class="c1"># kpi-based trimming</span>
clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-m<span class="w"> </span>kpi

<span class="c1"># kpi- and smart-gap-based trimming</span>
clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-m<span class="w"> </span>kpi-smart-gap

<span class="c1"># kpi- and gappy-based trimming</span>
clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-m<span class="w"> </span>kpi-gappy

<span class="c1"># remove third codon position</span>
clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-m<span class="w"> </span>c3

<span class="c1"># conduct site-specific trimming</span>
clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-m<span class="w"> </span>cst<span class="w"> </span>-a<span class="w"> </span>&lt;auxiliary<span class="w"> </span>file&gt;
</pre></div>
</div>
<div class="line-block" id="output">
<div class="line"><br /></div>
</div>
</section>
<section id="id2">
<h2>Output<a class="headerlink" href="#id2" title="Link to this heading"></a></h2>
<p>By default, output files will have the same name as the input file with the suffix “.clipkit”
appended to the name. Users can specify output file names with the -o option.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># specify output</span>
clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-o<span class="w"> </span>&lt;output&gt;
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="log">
<span id="id3"></span><h2>Log<a class="headerlink" href="#log" title="Link to this heading"></a></h2>
<p>It can be very useful to have information about the each position in an alignment. For
example, this information could be used in alignment diagnostics, fine-tuning of trimming
parameters, etc. To create the log file, use the -l/\-\-log option. Using this option
will create a four column file with the suffix ‘clipkit.log’. <em>Default: off</em></p>
<ul class="simple">
<li><p>col1: position in the alignment (starting at 1)</p></li>
<li><p>col2: reports if site was trimmed or kept (trim or keep, respectively)</p></li>
<li><p>col3: reports if the site is parsimony informative or not (PI or nPI, respectively)</p></li>
<li><p>col4: reports the gappyness of the position (number of gaps / entries in alignment)</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-l
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="complementary">
<span id="id4"></span><h2>Complementary<a class="headerlink" href="#complementary" title="Link to this heading"></a></h2>
<p>Having an alignment of the sequences that were trimmed can be useful for other analyses.
To obtain an alignment of the sequences that were trimmed, use the -c/\-\-complementary
option.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-c
</pre></div>
</div>
<p>Output file with the suffix ‘.clipkit.complementary’</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="codon">
<span id="id5"></span><h2>Codon<a class="headerlink" href="#codon" title="Link to this heading"></a></h2>
<p>Trims codon-based alignments. If one position in a codon should be trimmed, the whole
codon will be trimmed. To conduct codon-based trimming, use the -co/\-\-codon argument.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="w">    </span>clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>--codon

<span class="c1"># or</span>

<span class="w">    </span>clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>--co
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="custom-site-trimming-cst-mode">
<span id="id6"></span><h2>Custom site trimming (cst mode)<a class="headerlink" href="#custom-site-trimming-cst-mode" title="Link to this heading"></a></h2>
<p>Custom site trimming specified using a tab-delimited text file specified using the -a argument.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-m<span class="w"> </span>cst<span class="w"> </span>-a<span class="w"> </span>&lt;auxiliary_file&gt;
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The <cite>auxiliary_file</cite> is a two column tab-delimited file wherein the first column is the site
(starting at 1) and the second column specifies if the site should be kept or trimmed using the
strings “keep” or “trim”.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>auxiliary_file.txt

<span class="m">1</span><span class="w">       </span>keep
<span class="m">2</span><span class="w">       </span>trim
<span class="m">3</span><span class="w">       </span>keep
<span class="m">4</span><span class="w">       </span>keep
<span class="m">5</span><span class="w">       </span>keep
<span class="m">6</span><span class="w">       </span>keep
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Alternatively, users can specify sites that are only kept or trimmed using the <cite>auxiliary_file</cite>.
For example, the following would be equivalent to the auxiliary file described above.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>auxiliary_file.txt

<span class="m">2</span><span class="w">       </span>trim
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Similarly, the following would conduct the trimming, wherein the second site is removed but all
others are kept.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>auxiliary_file.txt

<span class="m">1</span><span class="w">       </span>keep
<span class="m">3</span><span class="w">       </span>keep
<span class="m">4</span><span class="w">       </span>keep
<span class="m">5</span><span class="w">       </span>keep
<span class="m">6</span><span class="w">       </span>keep
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="gaps">
<span id="id7"></span><h2>Gaps<a class="headerlink" href="#gaps" title="Link to this heading"></a></h2>
<p>Positions with gappyness greater than threshold will be trimmed.
Must be between 0 and 1. (Default: 0.9). This argument is ignored
when using the kpi and kpic mdoes of trimming as well as an
iteration of trimming that uses smart-gap.</p>
<p>To specify a gaps threshold, use the -g/\-\-gaps argument.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="w">    </span>clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>--gaps<span class="w"> </span><span class="m">0</span>.4

<span class="c1"># or</span>

<span class="w">    </span>clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>--g<span class="w"> </span><span class="m">0</span>.4
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="gap-characters">
<span id="id8"></span><h2>Gap Characters<a class="headerlink" href="#gap-characters" title="Link to this heading"></a></h2>
<p>Specifies gap characters used in the input file. For example,
“NnXx-?” would specify that “N”, “n”, “X”, “x”, “-”, and “?” are
gap characters. Note, the first gap character cannot be “-” because
the parser will interpret the gaps list as a new argument.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-gc<span class="w"> </span>NnXx-?
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="sequence-type">
<span id="id9"></span><h2>Sequence Type<a class="headerlink" href="#sequence-type" title="Link to this heading"></a></h2>
<p>Specifies the type of sequences in the input file. The default
is auto-detection of sequence type. Valid options
include aa or nt for amino acids and nucleotides. This argument
is case insensitive. This matters for what characters are
considered gaps. For amino acids, -, ?, *, and X are considered
gaps. For nucleotide sequences, the same characters are
considered gaps as well as N.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-s<span class="w"> </span>aa
</pre></div>
</div>
<p>Specify input sequences are amino acids</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-s<span class="w"> </span>nt
</pre></div>
</div>
<p>Specify input sequences are nucleotides</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="ends-only">
<span id="id10"></span><h2>Ends only<a class="headerlink" href="#ends-only" title="Link to this heading"></a></h2>
<p>For a given trimming mode, specifies if only sites at the end of an alignment
should be trimmed. For example, if the sites that should be trimmed include
[0, 1, 2, 4, 5, 6, 14, 15, 16] for smart-gap mode and an alignment of
length 16, adding the ends_only mode will result in [0, 1, 2, 14, 15, 16]
being the sites that will be trimmed. Specify this argument with -eo, --ends_only.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>-eo

<span class="c1"># or</span>

clipkit<span class="w"> </span>&lt;input&gt;<span class="w"> </span>--ends_only
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="all-options">
<span id="id11"></span><h2>All options<a class="headerlink" href="#all-options" title="Link to this heading"></a></h2>
<p>*Acceptable file formats include:
<a class="reference external" href="https://en.wikipedia.org/wiki/FASTA_format">fasta</a>,
<a class="reference external" href="http://meme-suite.org/doc/clustalw-format.html">clustal</a>,
<a class="reference external" href="http://www.bx.psu.edu/~dcking/man/maf.xhtml">maf</a>,
<a class="reference external" href="http://darlinglab.org/mauve/user-guide/files.html">mauve</a>,
<a class="reference external" href="http://scikit-bio.org/docs/0.2.3/generated/skbio.io.phylip.html">phylip</a>,
<a class="reference external" href="http://rosalind.info/glossary/phylip-format/">phylip-sequential</a>,
<a class="reference external" href="https://www.hiv.lanl.gov/content/sequence/FORMAT_CONVERSION/FormatExplain.html">phylip-relaxed</a>,
<a class="reference external" href="https://en.wikipedia.org/wiki/Stockholm_format">stockholm</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../about/index.html" class="btn btn-neutral float-left" title="About" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../performance_assessment/index.html" class="btn btn-neutral float-right" title="Performance Assessment" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020 Jacob L. Steenwyk.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-104875636-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-104875636-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>